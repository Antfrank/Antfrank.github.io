## install packages if necessary
list.of.packages <- c("janitor", "ggplot2", "dplyr", "lubridate", "zoo", "forcats", "ggthemes", "knitr", "rmarkdown")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
## load packages
library(janitor)
library(ggplot2)
library(dplyr)
library(lubridate)
library(zoo)
library(forcats)
library(ggthemes)
library(knitr)
## set working directory
atus.long %>%
group_by(ACTIVITY, HEFAMINC) %>%
ggplot(data = income_activity) +
geom_point(aes(x = ACTIVITY, y = HEFAMINC), color = "dodgerblue") +
geom_smooth(method = "lm", se= FALSE)
atus.long %>%
group_by(ACTIVITY, HEFAMINC) %>%
ggplot(data = income_activity) +
geom_point(aes(x = ACTIVITY, y = HEFAMINC), color = "dodgerblue") +
geom_smooth(method = "lm", se= FALSE)
atus.long %>%
group_by(ACTIVITY, TEAGE) %>%
summarise(AVGMINS = mean(MINS)) %>%
ggplot(aes(x=TEAGE, y= AVGMINS)) +
geom_point() +
facet_wrap(~ACTIVITY)
atus.cps <- read.delim('final_project_data/atuscps_2016.dat', sep=",")
## install packages if necessary
list.of.packages <- c("janitor", "ggplot2", "dplyr", "lubridate", "zoo", "forcats", "ggthemes", "knitr", "rmarkdown")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
## load packages
library(janitor)
library(ggplot2)
library(dplyr)
library(lubridate)
library(zoo)
library(forcats)
library(ggthemes)
library(knitr)
## set working directory
## install packages if necessary
list.of.packages <- c("janitor", "ggplot2", "dplyr", "lubridate", "zoo", "forcats", "ggthemes", "knitr", "rmarkdown")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
## load packages
library(janitor)
library(ggplot2)
library(dplyr)
library(lubridate)
library(zoo)
library(forcats)
library(ggthemes)
library(knitr)
## set working directory
atus.cps <- read.delim('final_project_data/atuscps_2016.dat', sep=",")
## install packages if necessary
list.of.packages <- c("janitor", "ggplot2", "dplyr", "lubridate", "zoo", "forcats", "ggthemes", "knitr", "rmarkdown")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
## load packages
library(janitor)
library(ggplot2)
library(dplyr)
library(lubridate)
library(zoo)
library(forcats)
library(ggthemes)
library(knitr)
## set working directory
atus.cps <- read.delim('final_project_data/atuscps_2016.dat', sep=",")
## install packages if necessary
list.of.packages <- c("janitor", "ggplot2", "dplyr", "lubridate", "zoo", "forcats", "ggthemes", "knitr", "rmarkdown")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
## load packages
library(janitor)
library(ggplot2)
library(dplyr)
library(lubridate)
library(zoo)
library(forcats)
library(ggthemes)
library(knitr)
## set working directory
atus.cps <- read.delim('final_project_data/atuscps_2016.dat', sep=",")
## install packages if necessary
list.of.packages <- c("janitor", "ggplot2", "dplyr", "lubridate", "zoo", "forcats", "ggthemes", "knitr", "rmarkdown")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
## load packages
library(janitor)
library(ggplot2)
library(dplyr)
library(lubridate)
library(zoo)
library(forcats)
library(ggthemes)
library(knitr)
## set working directory
atus.cps <- read.delim('final_project_data/atuscps_2016.dat', sep=",")
## install packages if necessary
list.of.packages <- c("janitor", "ggplot2", "dplyr", "lubridate", "zoo", "forcats", "ggthemes", "knitr", "rmarkdown")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
## load packages
library(janitor)
library(ggplot2)
library(dplyr)
library(lubridate)
library(zoo)
library(forcats)
library(ggthemes)
library(knitr)
## set working directory
atus.cps <- read.delim('final_project_data/atuscps_2016.dat', sep=",")
atus.long %>%
group_by(ACTIVITY, TEAGE) %>%
summarise(AVGMINS = mean(MINS)) %>%
ggplot(aes(x=TEAGE, y= AVGMINS)) +
geom_point() +
facet_wrap(~ACTIVITY)
## install packages if necessary
list.of.packages <- c("janitor", "ggplot2", "dplyr", "lubridate", "zoo", "forcats", "ggthemes", "knitr", "rmarkdown")
new.packages <- list.of.packages[!(list.of.packages %in% installed.packages()[,"Package"])]
if(length(new.packages)) install.packages(new.packages)
## load packages
library(janitor)
library(ggplot2)
library(dplyr)
library(lubridate)
library(zoo)
library(forcats)
library(ggthemes)
library(knitr)
## set working directory
atus.cps <- read.delim('final_project_data/atuscps_2016.dat', sep=",")
atus.sum <- read.delim('final_project_data/atussum_2016.dat', sep=",")
atus.all <- atus.sum %>%
left_join(atus.cps %>% filter(TULINENO==1), by = c("TUCASEID"))
atus.all <- atus.all %>%
mutate(CHILDCARE = t030101 + t030102 + t030103 + t030104 + t030105 + t030106 + t030108 + t030109 + t030110 + t030111 + t030112)
ggplot(atus.all)+
geom_density(aes(CHILDCARE))
childcare <- atus.all %>%
group_by(TESEX) %>%
summarize(avg = mean(CHILDCARE))
childcare
## replace -1 in the variable TRDPFTPT with NA.
atus.all <- atus.all %>%
mutate(TRDPFTPT=na_if(TRDPFTPT,-1))
## add your exploratory analysis code here
## add your regression analysis code here
regression <- lm(TRCHILDNUM ~ HEFAMINC,
data=atus.all)
summary(regression)
atus.wide <- atus.all %>%
mutate(act01 = rowSums(atus.all[,grep("t01", names(atus.all))]),
act02 = rowSums(atus.all[,grep("t02", names(atus.all))]),
act03 = rowSums(atus.all[,grep("t03", names(atus.all))]),
act04 = rowSums(atus.all[,grep("t04", names(atus.all))]),
act05 = rowSums(atus.all[,grep("t05", names(atus.all))]),
act06 = rowSums(atus.all[,grep("t06", names(atus.all))]),
act07 = rowSums(atus.all[,grep("t07", names(atus.all))]),
act08 = rowSums(atus.all[,grep("t08", names(atus.all))]),
act09 = rowSums(atus.all[,grep("t09", names(atus.all))]),
act10 = rowSums(atus.all[,grep("t10", names(atus.all))]),
act11 = rowSums(atus.all[,grep("t11", names(atus.all))]),
act12 = rowSums(atus.all[,grep("t12", names(atus.all))]),
act13 = rowSums(atus.all[,grep("t13", names(atus.all))]),
act14 = rowSums(atus.all[,grep("t14", names(atus.all))]),
act15 = rowSums(atus.all[,grep("t16", names(atus.all))]),
act16 = rowSums(atus.all[,grep("t17", names(atus.all))]),
act18 = rowSums(atus.all[,grep("t18", names(atus.all))]) ) %>%
select(TUCASEID, TEAGE, HEFAMINC, starts_with("act"))
library(tidyr)
atus.long <- atus.wide %>%
gather(key = ACTIVITY, value = MINS, act01:act18)
atus.long %>%
group_by(ACTIVITY, TEAGE) %>%
summarise(AVGMINS = mean(MINS)) %>%
ggplot(aes(x=TEAGE, y= AVGMINS)) +
geom_point() +
facet_wrap(~ACTIVITY)
atus.long %>%
group_by(ACTIVITY, HEFAMINC) %>%
ggplot(data = income_activity) +
geom_point(aes(x = ACTIVITY, y = HEFAMINC), color = "dodgerblue") +
geom_smooth(method = "lm", se= FALSE)
